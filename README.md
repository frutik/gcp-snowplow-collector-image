# ABOUT

Packer stuff to create Scala Stream Collector base image for GCP

1. Install packer
2. Create project in GCP
3. Download json access key for this project
4. Place it in credential folder
5. `./build-image.sh`

# Usage

This script will create a base image in Google Cloud. You can create an virtual machine from this image or use it in a template.

# Configuration 

Variables in metadata server, wich must be defined to start collector:

AKKA_HTTP_SERVER_PARSING_MAX_URI_LENGTH
AKKA_HTTP_SERVER_PARSING_URI_PARSING_MODE
AKKA_HTTP_SERVER_RAW_REQUEST_URI_HEADER
AKKA_HTTP_SERVER_REMOTE_ADDRESS_HEADER
AKKA_LOGLEVEL
AKKA_LOGGERS
COLLECTOR_COOKIE_BOUNCE_ENABLED
COLLECTOR_COOKIE_BOUNCE_FALLBACK_NETWORK_USER_ID
COLLECTOR_COOKIE_BOUNCE_FORWARDED_PROTOCOL_HEADER
COLLECTOR_COOKIE_BOUNCE_NAME
COLLECTOR_COOKIE_DOMAIN
COLLECTOR_COOKIE_ENABLED
COLLECTOR_COOKIE_EXPIRATION
COLLECTOR_COOKIE_NAME
COLLECTOR_CORS_ACCESS_CONTROL_MAX_AGE
COLLECTOR_CROSS_DOMAIN_ENABLED
COLLECTOR_CROSS_DOMAIN_SECURE
COLLECTOR_DO_NOT_TRACK_COOKIE_ENABLED
COLLECTOR_DO_NOT_TRACK_COOKIE_NAME
COLLECTOR_DO_NOT_TRACK_COOKIE_VALUE
COLLECTOR_INTERFACE
COLLECTOR_PORT
COLLECTOR_PROMETHEUS_METRICS_DURATION_BUCKETS_IN_SECONDS
COLLECTOR_PROMETHEUS_METRICS_ENABLED
COLLECTOR_REDIRECT_MACRO_ENABLED
COLLECTOR_REDIRECT_REDIRECT_MACRO_PLACEHOLDER
COLLECTOR_ROOT_RESPONSE_BODY
COLLECTOR_ROOT_RESPONSE_ENABLED
COLLECTOR_ROOT_RESPONSE_HEADERS_LOCATION,
COLLECTOR_ROOT_RESPONSE_STATUS_CODE
COLLECTOR_STREAMS_BAD
COLLECTOR_STREAMS_BUFFER_BYTE_LIMIT
COLLECTOR_STREAMS_BUFFER_RECORD_LIMIT
COLLECTOR_STREAMS_BUFFER_TIME_LIMIT
COLLECTOR_STREAMS_GOOD
COLLECTOR_STREAMS_SINK_CUSTOM_ENDPOINT
COLLECTOR_STREAMS_SINK_REGION
COLLECTOR_STREAMS_SINK_THREAD_POOL_SIZE
COLLECTOR_STREAMS_USE_IP_ADDRESS_AS_PARTITION_KEY
COLLECTOR_CROSS_DOMAIN_DOMAIN

